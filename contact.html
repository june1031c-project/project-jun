<!doctype html>
<html lang="ko" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì œíœ´ ë¬¸ì˜</title>
  <link href='/style.css' rel='stylesheet'>
</head>
<body>
  <div class="container">
    <header>
      <h1>ì œíœ´ ë¬¸ì˜</h1>
      <button class="theme-toggle" id="themeToggle" onclick="toggleTheme()" aria-label="í…Œë§ˆ ë³€ê²½">
        <span class="icon-sun">â˜€ï¸</span>
        <span class="icon-moon">ğŸŒ™</span>
      </button>
    </header>
    <p class="subtitle">ì œíœ´ ë° í˜‘ì—… ë¬¸ì˜ë¥¼ ë‚¨ê²¨ì£¼ì„¸ìš”</p>

    <nav class="nav-bar">
      <a href="/index.html" class="nav-link">ğŸ± ë¡œë˜</a>
      <a href="/dinner.html" class="nav-link">ğŸ½ï¸ ë©”ë‰´</a>
      <a href="/contact.html" class="nav-link active">ğŸ“© ë¬¸ì˜</a>
    </nav>

    <form class="contact-form" id="contactForm" action="https://formspree.io/f/mreabeoz" method="POST">
      <label class="form-label" for="name">ì´ë¦„ / íšŒì‚¬ëª…</label>
      <input class="form-input" type="text" id="name" name="name" required placeholder="í™ê¸¸ë™ / ì£¼ì‹íšŒì‚¬ ì˜ˆì‹œ">

      <label class="form-label" for="email">ì´ë©”ì¼</label>
      <input class="form-input" type="email" id="email" name="email" required placeholder="example@email.com">

      <label class="form-label" for="message">ë¬¸ì˜ ë‚´ìš©</label>
      <textarea class="form-input form-textarea" id="message" name="message" required placeholder="ì œíœ´ ë‚´ìš©ì„ ê°„ë‹¨íˆ ì ì–´ì£¼ì„¸ìš”"></textarea>

      <button class="btn btn-primary form-submit" type="submit">
        <span class="btn-icon">ğŸ“©</span> ë¬¸ì˜ ë³´ë‚´ê¸°
      </button>
    </form>

    <div class="form-success hidden" id="formSuccess">
      <span class="success-icon">âœ…</span>
      <p class="success-text">ë¬¸ì˜ê°€ ì„±ê³µì ìœ¼ë¡œ ì „ì†¡ë˜ì—ˆìŠµë‹ˆë‹¤!</p>
      <button class="btn btn-secondary" onclick="resetForm()">ìƒˆ ë¬¸ì˜ ì‘ì„±</button>
    </div>
  </div>

  <script>
    // Theme
    function toggleTheme() {
      const html = document.documentElement;
      const next = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      html.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
    }
    (function() {
      const saved = localStorage.getItem('theme');
      if (saved) document.documentElement.setAttribute('data-theme', saved);
    })();

    // Form submit
    const form = document.getElementById('contactForm');
    const success = document.getElementById('formSuccess');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const btn = form.querySelector('.form-submit');
      btn.disabled = true;
      btn.textContent = 'ì „ì†¡ ì¤‘...';

      const res = await fetch(form.action, {
        method: 'POST',
        body: new FormData(form),
        headers: { 'Accept': 'application/json' }
      });

      if (res.ok) {
        form.classList.add('hidden');
        success.classList.remove('hidden');
      } else {
        alert('ì „ì†¡ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
        btn.disabled = false;
        btn.innerHTML = '<span class="btn-icon">ğŸ“©</span> ë¬¸ì˜ ë³´ë‚´ê¸°';
      }
    });

    function resetForm() {
      form.reset();
      form.classList.remove('hidden');
      success.classList.add('hidden');
      const btn = form.querySelector('.form-submit');
      btn.disabled = false;
      btn.innerHTML = '<span class="btn-icon">ğŸ“©</span> ë¬¸ì˜ ë³´ë‚´ê¸°';
    }
  </script>
</body>
</html>
